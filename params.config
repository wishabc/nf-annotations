// Common params
conda = "/home/sabramov/miniconda3/envs/jupyterlab"
outdir = "$launchDir/output"

samples_file = "/net/seq/data2/projects/sabramov/SuperIndex/dnase-index0415/matrices/downsampled_no_cancer/metadata.tsv"

masterlist_file = "/net/seq/data2/projects/sabramov/SuperIndex/dnase-index0415/matrices/downsampled_no_cancer/output/masterlist.only_autosomes.filtered.bed"
sample_names = "/net/seq/data2/projects/sabramov/SuperIndex/dnase-index0415/matrices/downsampled_no_cancer/output/samples_order.txt"
binary_matrix = "/net/seq/data2/projects/sabramov/SuperIndex/dnase-index0415/matrices/downsampled_no_cancer/output/binary.only_autosomes.filtered.matrix.npy"


/////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////  LDSC   ///////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////

// Phenotypes metadata. Full meta for UKBB is available here https://pan.ukbb.broadinstitute.org/downloads/index.html
phenotypes_meta = "/net/seq/data2/projects/GWAS/UKBB_2023/sabramov/UKBB.metadata+sumstats.052924.tsv" 

// LDSC scripts, see https://github.com/bulik/ldsc for details
ldsc_scripts_path = "/home/sabramov/projects/ENCODE4/ldsc" // TODO put in docker
ldsc_conda = "/home/sabramov/miniconda3/envs/ldsc" // TODO put in docker

// HapMap3 SNPs (as recommended by LDSC manual)
tested_snps = "/net/seq/data2/projects/sabramov/LDSC/w_hm3.snplist" 

// All paths below should have "." at the end, see https://github.com/bulik/ldsc for file description
frqfiles = "/net/seq/data2/projects/sabramov/LDSC/LDSC/plink_files/1000G.EUR.hg38."
gtfiles = "/net/seq/data2/projects/sabramov/LDSC/LDSC/plink_files/1000G.EUR.hg38."
weights = "/net/seq/data2/projects/sabramov/LDSC/LDSC/weights/weights.hm3_noMHC."

/////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////  Create baseline annotations  ////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////

// Baseline annotations as described at https://github.com/bulik/ldsc
base_ann_path = '/net/seq/data2/projects/sabramov/LDSC/LDSC/baselineLD_v2.2/baselineLD.' 

/////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////  Run LDSC on custom annotations  /////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////

// Path to created baseline annotation (result of calcBaseline workflow)
baseline_ld = "/net/seq/data2/projects/sabramov/LDSC/UKBB+ebi052923_baseline.not_harmonized_n_samples/output/ldsc/l2/baseline."

// If true, run cell-type version of LDSC. Faster, but doesn't provide h^2 estimates
by_cell_type = false

// Custom annotation files
annotations_dir = "" // Directory with annotations. One BED file per annotaion.
custom_annotation_name = "" // Name of the custom annotation. Used in the output file name.
min_snps = 10000

//////////////////////////////////////////////////////////////////////////////////////


template_run = "${outdir}"
// Moods params, see nf-genotyping for the script to create these files
moods_scans_dir = "/net/seq/data2/projects/sabramov/ENCODE4/dnase-genotypesv3/round2/output/moods_scans_alt" // Pre-made MOODs scans

matching_bins = 200
genome_fasta_file = "/net/seq/data/genomes/human/GRCh38/noalts/GRCh38_no_alts.fa"

dhs_annotations = "/net/seq/data2/projects/sabramov/SuperIndex/dnase-index0415/matrices/full/output/annotations/masterlist_DHSs_Altius.filtered.annotated.bed"